{"version":3,"sources":["../node_modules/alea/alea.js","weightedRandom.ts","stars.ts","index.ts"],"names":[],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AF3ED,SAAA,cAAA,CAA0C,OAA1C,EAAuE,IAAvE,EAAuF;AAAhB,QAAA,SAAA,KAAA,CAAA,EAAA;AAAA,eAAA,IAAA;AAAgB;AACrF,QAAI,eAAe,CAAnB;AACA,SAAiB,IAAA,KAAA,CAAA,EAAA,YAAA,OAAjB,EAAiB,KAAA,UAAA,MAAjB,EAAiB,IAAjB,EAA0B;AAArB,YAAI,OAAI,UAAA,EAAA,CAAR;AACH,wBAAgB,KAAK,CAAL,CAAhB;AACD;AAED,QAAM,cAAsB,CAAC,OAAO,MAAP,GAAgB,KAAK,MAAL,EAAjB,IAAkC,YAA9D;AAEA,QAAI,WAAW,CAAf;AACA,SAA4B,IAAA,KAAA,CAAA,EAAA,YAAA,OAA5B,EAA4B,KAAA,UAAA,MAA5B,EAA4B,IAA5B,EAAqC;AAA5B,YAAA,KAAA,UAAA,EAAA,CAAA;AAAA,YAAC,QAAA,GAAA,CAAA,CAAD;AAAA,YAAQ,SAAA,GAAA,CAAA,CAAR;AACP,oBAAY,MAAZ;AACA,YAAI,eAAe,QAAnB,EAA6B;AAC3B,mBAAO,KAAP;AACD;AACF;AAED,UAAM,IAAI,KAAJ,CAAU,mBAAmB,WAA7B,CAAN;AACD;AAjBD,QAAA,OAAA,GAAA,cAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ADAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"src.6b6cc9b8.map","sourceRoot":"../src","sourcesContent":["(function (root, factory) {\n  if (typeof exports === 'object') {\n      module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n      define(factory);\n  } else {\n      root.Alea = factory();\n  }\n}(this, function () {\n\n  'use strict';\n\n  // From http://baagoe.com/en/RandomMusings/javascript/\n\n  // importState to sync generator states\n  Alea.importState = function(i){\n    var random = new Alea();\n    random.importState(i);\n    return random;\n  };\n\n  return Alea;\n\n  function Alea() {\n    return (function(args) {\n      // Johannes Baagøe <baagoe@baagoe.com>, 2010\n      var s0 = 0;\n      var s1 = 0;\n      var s2 = 0;\n      var c = 1;\n\n      if (args.length == 0) {\n        args = [+new Date];\n      }\n      var mash = Mash();\n      s0 = mash(' ');\n      s1 = mash(' ');\n      s2 = mash(' ');\n\n      for (var i = 0; i < args.length; i++) {\n        s0 -= mash(args[i]);\n        if (s0 < 0) {\n          s0 += 1;\n        }\n        s1 -= mash(args[i]);\n        if (s1 < 0) {\n          s1 += 1;\n        }\n        s2 -= mash(args[i]);\n        if (s2 < 0) {\n          s2 += 1;\n        }\n      }\n      mash = null;\n\n      var random = function() {\n        var t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\n        s0 = s1;\n        s1 = s2;\n        return s2 = t - (c = t | 0);\n      };\n      random.uint32 = function() {\n        return random() * 0x100000000; // 2^32\n      };\n      random.fract53 = function() {\n        return random() + \n          (random() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n      };\n      random.version = 'Alea 0.9';\n      random.args = args;\n\n      // my own additions to sync state between two generators\n      random.exportState = function(){\n        return [s0, s1, s2, c];\n      };\n      random.importState = function(i){\n        s0 = +i[0] || 0;\n        s1 = +i[1] || 0;\n        s2 = +i[2] || 0;\n        c = +i[3] || 0;\n      };\n \n      return random;\n\n    } (Array.prototype.slice.call(arguments)));\n  }\n\n  function Mash() {\n    var n = 0xefc8249d;\n\n    var mash = function(data) {\n      data = data.toString();\n      for (var i = 0; i < data.length; i++) {\n        n += data.charCodeAt(i);\n        var h = 0.02519603282416938 * n;\n        n = h >>> 0;\n        h -= n;\n        h *= n;\n        n = h >>> 0;\n        h -= n;\n        n += h * 0x100000000; // 2^32\n      }\n      return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n    };\n\n    mash.version = 'Mash 0.9';\n    return mash;\n  }\n}));\n","export default function weightedRandom<T>(weights: Array<[T, number]>, prng: any = null): T {\n  let sumOfWeights = 0;\n  for (let item of weights) {\n    sumOfWeights += item[1];\n  }\n\n  const randomValue: number = (prng ? prng() : Math.random()) * sumOfWeights;\n \n  let sumSoFar = 0;\n  for (let [value, weight] of weights) {\n    sumSoFar += weight;\n    if (randomValue <= sumSoFar) {\n      return value;\n    }\n  }\n\n  throw new Error(\"Choice error: \" + randomValue);\n}","import weightedRandom from \"./weightedRandom\";\n\nfunction normalizedToRange(min: number, max: number, val: number): number {\n  return min + (max - min) * val;\n}\n\n/* STARS */\n\nexport enum StarType {\n  /* Planets in HZ will be tidally locked very quickly\n   */\n  M = \"M\",\n  /* Starting to look good. Kepler searches star types K-F.\n   */\n  K = \"K\",\n  G = \"G\", // the sun is a G2\n  F = \"F\",\n  /* Stars age too quickly - only support life for about 2 billion years. Life may\n     be microbial, but likely no trees.\n   */\n  A = \"A\",\n  B = \"B\",\n  /*\n  Planetary dust disks located within 1.6 light-years of O-type stars are\n  likely to be \"boiled off\" by superhot radiation and winds\n  (therefore O-type stars likely won't have planets)\n  */\n  O = \"O\"  \n}\n\n// http://lup.lub.lu.se/luur/download?func=downloadFile&recordOId=8867455&fileOId=8870454\nexport const StarTypeProbabilities = new Map<StarType, number>([\n  [StarType.M, 0.7645629],\n  [StarType.K, 0.1213592],\n  [StarType.G, 0.0764563],\n  [StarType.F, 0.0303398],\n  [StarType.A, 0.0060679],\n  [StarType.B, 0.0012136],\n  [StarType.O, 0.0000003],\n]);\n\nexport const StarTemperature = new Map<StarType, number>([\n  [StarType.M, 3850],\n  [StarType.K, 5300],\n  [StarType.G, 5920],\n  [StarType.F, 7240],\n  [StarType.A, 9500],\n  [StarType.B, 31000],\n  [StarType.O, 41000],\n]);\n\nexport const StarLuminosityMin = new Map<StarType, number>([\n  [StarType.M, 0.000158],\n  [StarType.K, 0.086],\n  [StarType.G, 0.58],\n  [StarType.F, 1.54],\n  [StarType.A, 4.42],\n  [StarType.B, 21.2],\n  [StarType.O, 26800],\n]);\n\nexport const StarLuminosityMax = new Map<StarType, number>([\n  [StarType.M, 0.086],\n  [StarType.K, 0.58],\n  [StarType.G, 1.54],\n  [StarType.F, 4.42],\n  [StarType.A, 21.2],\n  [StarType.B, 26800],\n  [StarType.O, 78100000],\n]);\n\nexport const StarRadiusMin = new Map<StarType, number>([\n  [StarType.M, 0.08],\n  [StarType.K, 0.7],\n  [StarType.G, 0.96],\n  [StarType.F, 1.15],\n  [StarType.A, 1.4],\n  [StarType.B, 1.8],\n  [StarType.O, 6.6],\n]);\n\nexport const StarRadiusMax = new Map<StarType, number>([\n  [StarType.M, 0.7],\n  [StarType.K, 0.96],\n  [StarType.G, 1.15],\n  [StarType.F, 1.4],\n  [StarType.A, 1.8],\n  [StarType.B, 6.6],\n  [StarType.O, 12],\n]);\n\n\n// http://www.vendian.org/mncharity/dir3/starcolor/\nexport const StarColors = new Map<StarType, string>([\n  [StarType.O, '#9bb0ff'],\n  [StarType.B, '#aabfff'],\n  [StarType.A, '#cad7ff'],\n  [StarType.F, '#f8f7ff'],\n  [StarType.G, '#fff4ea'],\n  [StarType.K, '#ffd2a1'],\n  [StarType.M, '#ffcc6f'],\n]);\n\n// http://www.solstation.com/habitable.htm\n/**\n* ~44% of F6-K3 stars with 0.5-1.5 stellar masses are likely binary/multiple star systems,\n* makin stable orbits extremely unlikely unless the stars are close together.\n* \n* Inside HZ: \"water is broken up by stellar radiation into oxygen and hydrogen...\n* the freed hydrogen would escape to space due to the relatively puny\n* gravitational pull of small rocky planets like Earth\"\n* \n* Outside HZ: \"atmospheric carbon dioxide condenses...which eliminates its\n* greenhouse warming effect.\"\n* \n* Stars get brighter as they age, so HZ expands outward. CHZ = \"continuously habitable zone\"\n* over time.\n*/\nexport const HabitableZonePlanetLikelihoods = new Map<StarType, number>([\n  [StarType.M, 0.0002],\n  [StarType.K, 0.001],\n  [StarType.G, 0.002],\n  [StarType.F, 0.001],\n  // my sources don't discuss these star types, and they are rare, so just pick\n  // some random small values\n  [StarType.A, 0.0002],\n  [StarType.B, 0.00015],\n  [StarType.O, 0.0001],\n]);\n\n// \"normalized solar flux factor\"\n// http://www.solstation.com/habitable.htm\nconst SeffInner = new Map<StarType, number>([\n  [StarType.M, 1.05],\n  [StarType.K, 1.05],\n  [StarType.G, 1.41],\n  [StarType.F, 1.9],\n  [StarType.A, 0],\n  [StarType.B, 0],\n  [StarType.O, 0],\n]);\n\nconst SeffOuter = new Map<StarType, number>([\n  [StarType.M, 0.27],\n  [StarType.K, 0.27],\n  [StarType.G, 0.36],\n  [StarType.F, 0.46],\n  [StarType.A, 0],\n  [StarType.B, 0],\n  [StarType.O, 0],\n]);\n\nfunction computeHabitableZoneHelper(luminosity: number, seff: number): number {\n  return 1 * Math.pow(luminosity / seff, 0.5);\n}\n\nexport function computeHabitableZone(t: StarType, luminosity: number): [number, number] {\n  return [\n      computeHabitableZoneHelper(luminosity, SeffInner.get(t)!),\n      computeHabitableZoneHelper(luminosity, SeffOuter.get(t)!)]\n}\n\n/*\n// this is garbage and wrong, don't use this\nexport function computeRadius(t: StarType, luminosity: number): number {\n  const temperature = StarTemperature.get(t)!;\n  const tempRatio = temperature / StarTemperature.get(StarType.G)!\n\n  return Math.sqrt(Math.pow(tempRatio, 4) / luminosity);\n}\n*/\n\nexport class Star {\n    starType: StarType;\n    luminosity: number;\n    radius: number;\n    color: string;\n\n    constructor(alea: any) {\n        let weights = Array<[StarType, number]>();\n        StarTypeProbabilities.forEach((v: number, k: StarType) => {\n          weights.push([k, v]);\n        });\n        this.starType = weightedRandom(weights, alea);\n            // StarTypeProbabilities.keys().map((k: StarType) => []), alea);\n        this.color = StarColors.get(this.starType)!;\n\n        const sizeValue = alea();\n        this.luminosity = normalizedToRange(\n          StarLuminosityMin.get(this.starType)!,\n          StarLuminosityMax.get(this.starType)!,\n          sizeValue);\n        this.radius = normalizedToRange(\n          StarRadiusMin.get(this.starType)!,\n          StarRadiusMax.get(this.starType)!,\n          sizeValue);\n    }\n}","import Alea from \"alea\";\nimport weightedRandom from \"./weightedRandom\";\nimport {\n    StarTypeProbabilities,\n    StarType,\n    HabitableZonePlanetLikelihoods,\n    Star,\n} from \"./stars\";\n\nfunction percent(n: number) {\n    return n * 100 + '%';\n}\n\n/// Tweak probability values to make planets more habitable and life-infested\nfunction cheatStars() {\n    StarTypeProbabilities.set(StarType.K, StarTypeProbabilities.get(StarType.K)! + 0.5);\n    StarTypeProbabilities.set(StarType.G, StarTypeProbabilities.get(StarType.G)! + 0.5);\n    StarTypeProbabilities.set(StarType.F, StarTypeProbabilities.get(StarType.F)! + 0.5);\n\n    // Cheat so about half of G-type stars have a planet in their habitable zones\n    for (let k of Object.keys(StarType)) {\n        const t = StarType[k as keyof typeof StarType];\n        HabitableZonePlanetLikelihoods.set(t, HabitableZonePlanetLikelihoods.get(t)! * 250);\n    }\n}\ncheatStars();\n\n    \nclass StarSystem {\n    seed: number;\n    stars: Array<Star>;\n\n    constructor(seed: number) {\n        this.seed = seed;\n\n        const alea = new (Alea as any)(seed);\n\n        this.stars = [new Star(alea)];\n    }\n}\n\n// main\nconst main = document.getElementById(\"js-main\");\nconst seed = Date.now();\n\nif (main) {\n    main.innerHTML = '';\n    for (let i=0; i<102; i++) {\n        const system = new StarSystem(seed + i);\n\n        const systemEl = document.createElement('div');\n        systemEl.className = 'system';\n\n        for (let star of system.stars) {\n            // const labelEl = document.createElement('div');\n            // labelEl.innerHTML = star.starType;\n            // labelEl.style.textAlign = 'center';\n            // systemEl.appendChild(labelEl);\n\n            const starEl = document.createElement('div');\n            systemEl.appendChild(starEl);\n            starEl.className = 'star';\n            starEl.style.backgroundColor = star.color;\n            starEl.innerHTML = star.starType;\n\n            const w = 10 / 0.08 * star.radius;\n            starEl.style.width = w.toString() + 'px';\n            starEl.style.height = w.toString() + 'px';\n            starEl.style.borderRadius = (w / 2).toString() + 'px';\n\n            console.table(system.stars[0]);\n        }\n\n        main.appendChild(systemEl);\n    }\n}"]}