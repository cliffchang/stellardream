parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"XdB5":[function(require,module,exports) {
"use strict";function r(r,e){for(var t=0,o=0,n=r;o<n.length;o++){t+=n[o][1]}for(var f=e*t,u=0,a=0,i=r;a<i.length;a++){var l=i[a],s=l[0];if(f<=(u+=l[1]))return s}throw new Error("Choice error: "+f)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;
},{}],"n6Lc":[function(require,module,exports) {
!function(t){var n=function(t){var n=Math.abs(t),r=1/(1+n/2),a=r*Math.exp(-n*n-1.26551223+r*(1.00002368+r*(.37409196+r*(.09678418+r*(r*(.27886807+r*(r*(1.48851587+r*(.17087277*r-.82215223))-1.13520398))-.18628806)))));return t>=0?a:2-a},r=function(t,n){if(n<=0)throw new Error("Variance must be > 0 (but was "+n+")");this.mean=t,this.variance=n,this.standardDeviation=Math.sqrt(n)};r.prototype.pdf=function(t){var n=this.standardDeviation*Math.sqrt(2*Math.PI);return Math.exp(-Math.pow(t-this.mean,2)/(2*this.variance))/n},r.prototype.cdf=function(t){return.5*n(-(t-this.mean)/(this.standardDeviation*Math.sqrt(2)))},r.prototype.ppf=function(t){return this.mean-this.standardDeviation*Math.sqrt(2)*function(t){if(t>=2)return-100;if(t<=0)return 100;for(var r=t<1?t:2-t,a=Math.sqrt(-2*Math.log(r/2)),e=-.70711*((2.30753+.27061*a)/(1+a*(.99229+.04481*a))-a),i=0;i<2;i++){var o=n(e)-r;e+=o/(1.1283791670955126*Math.exp(-e*e)-e*o)}return t<1?e:-e}(2*t)},r.prototype.mul=function(t){if("number"==typeof t)return this.scale(t);var n=1/this.variance,r=1/t.variance;return e(n+r,n*this.mean+r*t.mean)},r.prototype.div=function(t){if("number"==typeof t)return this.scale(1/t);var n=1/this.variance,r=1/t.variance;return e(n-r,n*this.mean-r*t.mean)},r.prototype.add=function(t){return a(this.mean+t.mean,this.variance+t.variance)},r.prototype.sub=function(t){return a(this.mean-t.mean,this.variance+t.variance)},r.prototype.scale=function(t){return a(this.mean*t,this.variance*t*t)};var a=function(t,n){return new r(t,n)},e=function(t,n){return a(n/t,1/t)};t(a)}("undefined"!=typeof exports?function(t){module.exports=t}:function(t){this.gaussian=t});
},{}],"Dp0p":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e,r=t(require("./weightedChoice")),a=t(require("gaussian"));function s(t,e,r){return t+(e-t)*r}!function(t){t.M="M",t.K="K",t.G="G",t.F="F",t.A="A",t.B="B",t.O="O"}(e=exports.StarType||(exports.StarType={})),exports.StarTypeProbabilities=new Map([[e.M,.7645629],[e.K,.1213592],[e.G,.0764563],[e.F,.0303398],[e.A,.0060679],[e.B,.0012136],[e.O,3e-7]]),exports.StarTemperature=new Map([[e.M,3850],[e.K,5300],[e.G,5920],[e.F,7240],[e.A,9500],[e.B,31e3],[e.O,41e3]]),exports.StarLuminosityMin=new Map([[e.M,158e-6],[e.K,.086],[e.G,.58],[e.F,1.54],[e.A,4.42],[e.B,21.2],[e.O,26800]]),exports.StarLuminosityMax=new Map([[e.M,.086],[e.K,.58],[e.G,1.54],[e.F,4.42],[e.A,21.2],[e.B,26800],[e.O,781e5]]),exports.StarRadiusMin=new Map([[e.M,.08],[e.K,.7],[e.G,.96],[e.F,1.15],[e.A,1.4],[e.B,1.8],[e.O,6.6]]),exports.StarRadiusMax=new Map([[e.M,.7],[e.K,.96],[e.G,1.15],[e.F,1.4],[e.A,1.8],[e.B,6.6],[e.O,12]]),exports.StarColors=new Map([[e.O,"#9bb0ff"],[e.B,"#aabfff"],[e.A,"#cad7ff"],[e.F,"#f8f7ff"],[e.G,"#fff4ea"],[e.K,"#ffd2a1"],[e.M,"#ffcc6f"]]),exports.HabitableZonePlanetLikelihoods=new Map([[e.M,2e-4],[e.K,.001],[e.G,.002],[e.F,.001],[e.A,2e-4],[e.B,15e-5],[e.O,1e-4]]);var i=new Map([[e.M,1.05],[e.K,1.05],[e.G,1.41],[e.F,1.9],[e.A,0],[e.B,0],[e.O,0]]),o=new Map([[e.M,.27],[e.K,.27],[e.G,.36],[e.F,.46],[e.A,0],[e.B,0],[e.O,0]]);function p(t,e){return 1*Math.pow(t/e,.5)}function n(t,e){return[p(e,i.get(t)),p(e,o.get(t))]}function u(t){var e=.23,r=2.3;return t>.03&&(e=1,r=4),t>16&&(e=1.5,r=3.5),t>54&&(e=3200,r=1),Math.pow(t/e,r)}function f(t,e){var s=a.default(.3,.1),i=a.default(-.45,.1),o=s.ppf(t),p=i.ppf(t);return r.default([[o,1.5],[p,.5]],e)}exports.computeHabitableZone=n,exports.computeMass=u,exports.getMetallicityValue=f;var M=function(){return function(t){var e=Array();exports.StarTypeProbabilities.forEach(function(t,r){e.push([r,t])}),this.starType=r.default(e,t()),this.color=exports.StarColors.get(this.starType);var a=t();this.luminosity=s(exports.StarLuminosityMin.get(this.starType),exports.StarLuminosityMax.get(this.starType),a),this.radius=s(exports.StarRadiusMin.get(this.starType),exports.StarRadiusMax.get(this.starType),a),this.mass=u(this.luminosity),this.metallicity=f(t(),t())}}();exports.Star=M;
},{"./weightedChoice":"XdB5","gaussian":"n6Lc"}],"RLhE":[function(require,module,exports) {
var define;
var t;!function(r,n){"object"==typeof exports?module.exports=n():"function"==typeof t&&t.amd?t(n):r.Alea=n()}(this,function(){"use strict";return t.importState=function(r){var n=new t;return n.importState(r),n},t;function t(){return function(t){var r=0,n=0,e=0,o=1;0==t.length&&(t=[+new Date]);var u=function(){var t=4022871197,r=function(r){r=r.toString();for(var n=0;n<r.length;n++){var e=.02519603282416938*(t+=r.charCodeAt(n));e-=t=e>>>0,t=(e*=t)>>>0,t+=4294967296*(e-=t)}return 2.3283064365386963e-10*(t>>>0)};return r.version="Mash 0.9",r}();r=u(" "),n=u(" "),e=u(" ");for(var a=0;a<t.length;a++)(r-=u(t[a]))<0&&(r+=1),(n-=u(t[a]))<0&&(n+=1),(e-=u(t[a]))<0&&(e+=1);u=null;var i=function(){var t=2091639*r+2.3283064365386963e-10*o;return r=n,n=e,e=t-(o=0|t)};return i.uint32=function(){return 4294967296*i()},i.fract53=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.version="Alea 0.9",i.args=t,i.exportState=function(){return[r,n,e,o]},i.importState=function(t){r=+t[0]||0,n=+t[1]||0,e=+t[2]||0,o=+t[3]||0},i}(Array.prototype.slice.call(arguments))}});
},{}],"7kqh":[function(require,module,exports) {
"use strict";var e,n;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e.HotJupiter="HotJupiter",e.ColdGasGiant="ColdGasGiant",e.IceGiant="IceGiant",e.OceanWorld="OceanWorld",e.LavaWorld="LavaWorld",e.Rocky="Rocky"}(e=exports.KeplerGrouping||(exports.KeplerGrouping={})),function(e){e.Terran="Terran",e.Neptunian="Neptunian",e.Jovian="Jovian",e.Placeholder="Placeholder"}(n=exports.PlanetType||(exports.PlanetType={})),exports.PlanetTypeMassMin=new Map([[n.Terran,-1.3],[n.Neptunian,.22],[n.Jovian,2]]),exports.PlanetTypeMassMax=new Map([[n.Terran,.22],[n.Neptunian,2],[n.Jovian,3.5]]),exports.PlanetTypeRadiusExponent=new Map([[n.Terran,.28],[n.Neptunian,.59],[n.Jovian,-.04]]);var a=function(){return function(e,n,a){this.planetType=e,this.distance=a,this.star=n}}();exports.Planet=a;
},{}],"9Ajd":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("alea")),r=require("./stars"),a=require("./planets"),s=t(require("./weightedChoice"));function n(t,e,r){return t+(e-t)*r}function i(t){for(var e,r=t.length-1;r>0;r--){var a=Math.floor(Math.random()*(r+1));e=[t[a],t[r]],t[r]=e[0],t[a]=e[1]}return t}function u(t,e){switch(t.stars[0].starType){case r.StarType.A:case r.StarType.B:case r.StarType.O:return}if(!(e()<.3)){for(var u=r.computeHabitableZone(t.stars[0].starType,t.stars[0].luminosity),l=u[0],o=u[1],p=[n(l,o,e())],f=0;f<5;f++)p.unshift(p[0]*n(1.1,2,e()));for(f=0;f<5;f++)p.push(p[p.length-1]/n(1.1,2,e()));p.map(function(t){return t});p=i(p);var c=t.metallicity>=0?.3:.04,h=p.filter(function(t){return t>l&&t<o}),y=p.filter(function(t){return t<=l}),d=p.filter(function(t){return t>=o}),m=[[a.PlanetType.Terran,.3],[a.PlanetType.Neptunian,.6],[a.PlanetType.Jovian,c]];for(t.stars[0].starType==r.StarType.M?(t.planets.push(new a.Planet(s.default(m,e()),t.stars[0],h.pop())),p=h.concat(y).concat(d)):t.planets.push(new a.Planet(s.default(m,e()),t.stars[0],p.pop()));p.length>0&&e()<.3;)t.planets.push(new a.Planet(s.default(m,e()),t.stars[0],p.pop()))}}exports.addPlanets=u;var l=function(){function t(t){this.seed=t;var a=new e.default(t);this.stars=[new r.Star(a)],a()>.22&&(this.stars.push(new r.Star(a)),this.stars=this.stars.sort(function(t,e){return e.mass-t.mass})),this.planets=[],u(this,a)}return Object.defineProperty(t.prototype,"metallicity",{get:function(){for(var t=this.stars[0].metallicity,e=0,r=this.stars;e<r.length;e++){var a=r[e];t=Math.max(t,a.metallicity)}return t},enumerable:!0,configurable:!0}),t}();exports.StarSystem=l;
},{"alea":"RLhE","./stars":"Dp0p","./planets":"7kqh","./weightedChoice":"XdB5"}],"7QCb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./stars"),t=require("./starSystem");function a(){e.StarTypeProbabilities.set(e.StarType.K,e.StarTypeProbabilities.get(e.StarType.K)+.5),e.StarTypeProbabilities.set(e.StarType.G,e.StarTypeProbabilities.get(e.StarType.G)+.5),e.StarTypeProbabilities.set(e.StarType.F,e.StarTypeProbabilities.get(e.StarType.F)+.5);for(var t=0,a=Object.keys(e.StarType);t<a.length;t++){var r=a[t],l=e.StarType[r];e.HabitableZonePlanetLikelihoods.set(l,250*e.HabitableZonePlanetLikelihoods.get(l))}}var r=document.getElementById("js-main"),l=Date.now();if(r){r.innerHTML="";for(var i=0;i<102;i++){var n=new t.StarSystem(l+i),o=document.createElement("div");o.className="system";for(var s=0,d=n.stars;s<d.length;s++){var c=d[s],y=document.createElement("div");o.appendChild(y),y.className="star",y.style.backgroundColor=c.color,y.innerHTML=c.starType==e.StarType.M?"":c.starType,y.title=JSON.stringify(c,null,2);var p=.08,m=3,b=m/p*c.radius;y.style.width=b.toString()+"px",y.style.height=b.toString()+"px",y.style.borderRadius=(b/2).toString()+"px"}var h=document.createElement("div");o.appendChild(h),h.className="planet-separator";var u=document.createElement("div");o.appendChild(u),u.className="planets-container";var S=50,v=document.createElement("div");u.appendChild(v),v.className="hz-indicator";var g=e.computeHabitableZone(n.stars[0].starType,n.stars[0].luminosity),f=g[0],T=g[1];v.style.left=f*S+"px",v.style.width=(T-f)*S+"px";for(var C=1,k=0,x=n.planets;k<x.length;k++){var M=x[k],w=document.createElement("div");u.appendChild(w),w.className="planet-"+M.planetType.toString().toLowerCase(),w.style.position="absolute",w.style.left=M.distance*S+"px",w.title=JSON.stringify(M,null,2),C=Math.max(C,M.distance),u.style.backgroundColor="lightblue"}u.style.width=C*S+100+"px",r.appendChild(o)}}function N(){"CANVAS"==document.body.children[0].tagName&&document.body.removeChild(document.body.children[0]);for(var t={},a=0,r=0,l=0,i=0;i<1e5;i++){var n=e.getMetallicityValue(Math.random(),Math.random()),o=Math.floor(100*n)/100;r=Math.min(r,o),l=Math.max(l,o),t[o]||(t[o]=0),t[o]+=1,a=Math.max(a,t[o])}console.log(a);var s=200/a,d=document.createElement("canvas");d.width=100*(l-r),d.height=200,d.style.backgroundColor="white";var c=d.getContext("2d");if(c){c.fillStyle="black";for(i=100*r;i<100*l;i+=1){var y=i/100;n=t[y];switch(y){case 0:c.fillStyle="red";break;case.3:case-.45:c.fillStyle="lightgreen";break;case 1:c.fillStyle="cyan";break;case-1:c.fillStyle="yellow";break;default:c.fillStyle="black"}c.fillRect(i-100*r,200-n*s,1,n*s)}console.log(t),document.body.insertBefore(d,document.body.children[0])}}
},{"./stars":"Dp0p","./starSystem":"9Ajd"}]},{},["7QCb"], null)
//# sourceMappingURL=src.ad2081ec.map